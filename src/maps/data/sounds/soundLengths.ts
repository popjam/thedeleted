import type { SoundEffect } from "isaac-typescript-definitions";

// eslint-disable-next-line isaacscript/require-capital-read-only
const SOUND_LENGTHS_MAP = new Map<number, number>([
  [1, 0.29],
  [2, 0.33],
  [3, 0.6],
  [4, 0.75],
  [5, 1.89],
  [6, 1.13],
  [7, 1.89],
  [8, 0.51],
  [9, 1.24],
  [10, 1.65],
  [11, 1.4],
  [12, 0.53],
  [13, 0.55],
  [14, 0.41],
  [15, 0.65],
  [16, 1.05],
  [17, 0.91],
  [18, 1.2],
  [21, 0.38],
  [22, 0.49],
  [23, 2.58],
  [24, 0.54],
  [25, 0.53],
  [27, 0.87],
  [28, 1.79],
  [29, 1.36],
  [30, 0.49],
  [33, 3.93],
  [34, 3.37],
  [35, 1.4],
  [36, 1.12],
  [37, 0.69],
  [38, 0.17],
  [40, 0.16],
  [43, 1.21],
  [44, 0.98],
  [45, 0.82],
  [46, 1.33],
  [47, 1.19],
  [48, 1.76],
  [49, 0.51],
  [51, 3.76],
  [52, 1.99],
  [53, 1.17],
  [54, 1.42],
  [55, 0.38],
  [56, 0.47],
  [57, 0.47],
  [58, 0.44],
  [59, 0.25],
  [60, 0.27],
  [64, 0.83],
  [66, 1.05],
  [68, 0.41],
  [69, 0.05],
  [70, 0.16],
  [72, 0.13],
  [77, 0.28],
  [78, 0.69],
  [79, 0.93],
  [80, 1.33],
  [81, 0.24],
  [82, 3.16],
  [84, 2.88],
  [85, 4.46],
  [86, 2.89],
  [87, 0.34],
  [90, 0.62],
  [93, 0.45],
  [97, 0.4],
  [101, 0.6],
  [104, 0.4],
  [106, 0.46],
  [108, 0.38],
  [112, 0.46],
  [114, 0.65],
  [115, 0.87],
  [116, 0.89],
  [117, 0.99],
  [118, 0.9],
  [119, 0.61],
  [122, 0.85],
  [128, 0.97],
  [129, 2.07],
  [130, 2.62],
  [132, 1.57],
  [133, 0.57],
  [134, 0.5],
  [135, 1.23],
  [136, 1.23],
  [137, 1.33],
  [138, 1.27],
  [139, 1.13],
  [141, 2.06],
  [142, 0.25],
  [143, 1.01],
  [146, 0.49],
  [149, 0.7],
  [150, 0.16],
  [153, 0.24],
  [156, 0.4],
  [157, 0.69],
  [158, 0.34],
  [159, 1.15],
  [160, 2.59],
  [161, 7.89],
  [162, 1.32],
  [163, 13.04],
  [165, 0.94],
  [166, 0.1],
  [167, 0.66],
  [169, 0.33],
  [170, 0.69],
  [171, 0.08],
  [172, 1.5],
  [173, 1],
  [174, 1.24],
  [175, 0.31],
  [178, 0.19],
  [181, 0.31],
  [182, 1.03],
  [183, 1],
  [184, 2.41],
  [185, 0.32],
  [186, 1.41],
  [187, 0.73],
  [190, 1.8],
  [194, 0.04],
  [195, 0.04],
  [197, 0.5],
  [198, 0.72],
  [199, 2.41],
  [200, 1.25],
  [201, 0.07],
  [204, 5.04],
  [205, 0.05],
  [207, 0.61],
  [211, 2.98],
  [212, 0.73],
  [213, 0.65],
  [214, 0.19],
  [215, 0.2],
  [217, 1.09],
  [218, 0.69],
  [219, 0.07],
  [221, 0.19],
  [224, 0.13],
  [226, 0.47],
  [229, 1.35],
  [231, 0.6],
  [232, 1.22],
  [233, 1.18],
  [234, 0.67],
  [237, 0.14],
  [238, 2.08],
  [239, 2.02],
  [240, 1.84],
  [241, 3.87],
  [242, 3.42],
  [243, 3.05],
  [245, 2.8],
  [246, 3.15],
  [249, 0.08],
  [252, 0.11],
  [255, 0.43],
  [258, 0.04],
  [261, 0.55],
  [262, 0.2],
  [263, 0.88],
  [265, 1.16],
  [266, 4.26],
  [267, 0.38],
  [268, 0.19],
  [269, 15.04],
  [270, 3.5],
  [271, 1.22],
  [272, 1.47],
  [273, 1.94],
  [274, 1.08],
  [275, 0.74],
  [276, 2.11],
  [277, 1.98],
  [278, 2.5],
  [279, 7.54],
  [280, 1.36],
  [281, 10.02],
  [282, 0.33],
  [283, 0.9],
  [284, 0.82],
  [286, 0.44],
  [300, 2.03],
  [301, 1.38],
  [302, 0.92],
  [303, 0.57],
  [304, 0.61],
  [305, 1.4],
  [306, 0.62],
  [307, 1.75],
  [308, 1.29],
  [309, 1.73],
  [310, 0.78],
  [311, 3.16],
  [312, 1.11],
  [313, 0.48],
  [314, 0.47],
  [315, 0.67],
  [316, 2.4],
  [317, 0.65],
  [318, 0.13],
  [319, 0.27],
  [320, 4.39],
  [321, 1.74],
  [322, 1.13],
  [323, 0.47],
  [324, 2.88],
  [325, 1.32],
  [326, 0.94],
  [327, 0.99],
  [328, 2.87],
  [329, 1.28],
  [330, 1.64],
  [331, 1.17],
  [332, 1.94],
  [333, 2.4],
  [334, 1.35],
  [335, 1.17],
  [336, 1.13],
  [337, 0.66],
  [338, 0.97],
  [339, 3.53],
  [340, 1.03],
  [341, 1.09],
  [342, 1.53],
  [343, 1.4],
  [344, 1.3],
  [345, 1.83],
  [346, 0.77],
  [347, 0.64],
  [348, 0.92],
  [349, 0.88],
  [350, 1.13],
  [351, 1.52],
  [352, 1.41],
  [353, 1.96],
  [354, 0.82],
  [355, 1.57],
  [356, 2.28],
  [357, 0.87],
  [358, 1.8],
  [359, 1.31],
  [360, 1.21],
  [361, 1.28],
  [362, 2.62],
  [363, 1.68],
  [364, 1.34],
  [365, 1.01],
  [366, 1.66],
  [367, 1.36],
  [368, 1.01],
  [369, 1.98],
  [370, 1.1],
  [371, 1.21],
  [372, 0.94],
  [373, 0.91],
  [374, 1.23],
  [375, 0.96],
  [376, 1.62],
  [377, 0.84],
  [378, 1.2],
  [379, 1.82],
  [380, 1.12],
  [381, 1.05],
  [382, 1.1],
  [383, 1.19],
  [384, 0.97],
  [385, 1.06],
  [386, 0.88],
  [387, 1.57],
  [388, 1.63],
  [389, 1.71],
  [390, 1.7],
  [391, 1.73],
  [392, 0.64],
  [393, 1.04],
  [394, 1.08],
  [395, 0.95],
  [396, 5.05],
  [397, 0.4],
  [398, 0.14],
  [399, 1],
  [400, 1.73],
  [401, 1.81],
  [402, 1.65],
  [403, 1.26],
  [404, 1.81],
  [405, 1.84],
  [406, 0.76],
  [407, 1.32],
  [408, 1.15],
  [409, 1.77],
  [410, 1.88],
  [411, 1.79],
  [412, 2.42],
  [413, 1],
  [414, 0.44],
  [415, 0.42],
  [416, 0.47],
  [417, 1],
  [418, 3.25],
  [419, 0.75],
  [420, 1.62],
  [421, 2.01],
  [422, 4.98],
  [423, 5.74],
  [424, 1.2],
  [425, 1.82],
  [426, 2.04],
  [427, 4.26],
  [428, 3.92],
  [429, 3.43],
  [430, 6],
  [431, 6.06],
  [432, 2.37],
  [433, 1.94],
  [434, 0.41],
  [435, 3.02],
  [436, 1.24],
  [437, 1],
  [438, 1.13],
  [439, 1.24],
  [440, 5.35],
  [441, 1.16],
  [442, 3.61],
  [443, 1.37],
  [444, 1.32],
  [445, 1],
  [446, 2.78],
  [447, 1.73],
  [448, 0.68],
  [449, 1.46],
  [450, 1.54],
  [451, 0.91],
  [452, 1.97],
  [453, 1.44],
  [454, 1.48],
  [455, 1.62],
  [456, 1.75],
  [457, 1.66],
  [458, 0.17],
  [459, 0.88],
  [460, 4.21],
  [461, 0.71],
  [462, 0.58],
  [463, 0.81],
  [464, 0.46],
  [465, 1.34],
  [466, 0.24],
  [467, 0.32],
  [468, 1.42],
  [469, 0.26],
  [470, 2.19],
  [471, 1.12],
  [472, 7.99],
  [473, 5.25],
  [474, 1.81],
  [475, 7.98],
  [476, 7.65],
  [477, 2],
  [478, 0.39],
  [479, 0.65],
  [480, 10.16],
  [481, 1.68],
  [482, 1.7],
  [483, 2.92],
  [484, 1.35],
  [485, 0.31],
  [486, 4.1],
  [487, 0.45],
  [488, 5.56],
  [489, 5.53],
  [490, 2.17],
  [491, 0.61],
  [492, 0.42],
  [493, 0.68],
  [494, 0.5],
  [495, 0.81],
  [496, 1.4],
  [497, 0.89],
  [498, 1.24],
  [499, 0.2],
  [500, 0.43],
  [501, 0.7],
  [503, 0.5],
  [504, 2.77],
  [505, 4.82],
  [506, 0.82],
  [507, 0.43],
  [508, 0.5],
  [509, 0.35],
  [510, 0.26],
  [511, 1.33],
  [512, 0.96],
  [513, 1.05],
  [514, 1.82],
  [515, 1.23],
  [516, 0.91],
  [517, 1.2],
  [518, 1.12],
  [519, 1.21],
  [520, 0.88],
  [521, 0.84],
  [522, 1.73],
  [523, 1.01],
  [524, 1.62],
  [525, 0.66],
  [526, 1.1],
  [527, 0.94],
  [528, 1.06],
  [529, 1.19],
  [530, 1.1],
  [531, 0.97],
  [532, 0.92],
  [533, 0.88],
  [534, 1.79],
  [535, 8.18],
  [536, 0.75],
  [537, 1.77],
  [538, 0.74],
  [539, 0.7],
  [540, 0.8],
  [541, 4.01],
  [542, 3.84],
  [543, 9.75],
  [544, 1.45],
  [545, 6.63],
  [546, 5.38],
  [547, 1.71],
  [548, 4.14],
  [549, 1.14],
  [550, 0.9],
  [551, 2.43],
  [552, 2.5],
  [553, 48.54],
  [554, 3.75],
  [555, 4.99],
  [556, 2.42],
  [557, 1.62],
  [558, 16],
  [559, 2.62],
  [560, 2.67],
  [561, 2.03],
  [562, 1.33],
  [563, 2.67],
  [564, 4],
  [565, 1.33],
  [566, 0.89],
  [567, 1.76],
  [568, 2.16],
  [569, 1.61],
  [570, 2.84],
  [571, 0.82],
  [572, 0.69],
  [573, 0.52],
  [574, 1.28],
  [575, 2.94],
  [576, 3.02],
  [577, 2.97],
  [578, 5.68],
  [579, 0.84],
  [580, 3.77],
  [581, 0.89],
  [582, 1.95],
  [583, 1.59],
  [584, 0.88],
  [585, 1.21],
  [586, 0.92],
  [587, 1],
  [588, 1.2],
  [589, 1.42],
  [590, 1.48],
  [591, 0.98],
  [592, 5.5],
  [593, 4],
  [594, 2.5],
  [595, 0.35],
  [596, 3.81],
  [597, 3.81],
  [602, 0.79],
  [603, 0.98],
  [604, 2.17],
  [605, 0.4],
  [606, 0.84],
  [607, 0.27],
  [608, 1.99],
  [609, 1.45],
  [610, 1.63],
  [611, 1.87],
  [612, 4.46],
  [613, 0.88],
  [614, 0.89],
  [615, 3.05],
  [616, 3.12],
  [617, 1.71],
  [618, 2.77],
  [619, 3.25],
  [620, 1.03],
  [621, 0.98],
  [622, 0.73],
  [623, 1.4],
  [624, 2.75],
  [625, 2.14],
  [626, 0.98],
  [627, 0.58],
  [628, 1.98],
  [629, 2.28],
  [630, 1.54],
  [631, 1.16],
  [632, 0.81],
  [633, 0.99],
  [634, 0.69],
  [635, 1.39],
  [636, 2.22],
  [637, 1.45],
  [638, 1.13],
  [639, 1.41],
  [640, 6.31],
  [641, 1.01],
  [642, 0.5],
  [643, 0.89],
  [644, 1.62],
  [645, 2.56],
  [646, 1.26],
  [647, 1.9],
  [648, 2.16],
  [649, 2.55],
  [650, 1.14],
  [651, 1.49],
  [652, 1.27],
  [653, 2.39],
  [654, 1.34],
  [655, 2.09],
  [656, 0.74],
  [657, 0.87],
  [658, 5.87],
  [659, 1.03],
  [660, 0.75],
  [661, 0.7],
  [662, 1.83],
  [663, 1.81],
  [664, 1.86],
  [665, 1.14],
  [666, 1.88],
  [667, 1.96],
  [668, 1.26],
  [669, 0.7],
  [670, 0.64],
  [671, 0.95],
  [672, 1.41],
  [673, 1.29],
  [674, 1.72],
  [675, 2.18],
  [676, 0.79],
  [677, 2.9],
  [678, 1.31],
  [679, 1.58],
  [680, 1.24],
  [681, 2.07],
  [682, 1.24],
  [683, 1.96],
  [684, 0.85],
  [685, 0.75],
  [686, 1.84],
  [687, 2.3],
  [688, 1.05],
  [689, 1.71],
  [690, 1.88],
  [691, 3.68],
  [692, 1.42],
  [693, 0.85],
  [694, 0.79],
  [695, 0.78],
  [696, 1.92],
  [697, 0.84],
  [698, 2.94],
  [699, 3.32],
  [700, 1.64],
  [701, 1.36],
  [702, 6.13],
  [703, 1],
  [704, 2.34],
  [705, 8.14],
  [706, 1.82],
  [707, 3.88],
  [708, 3.03],
  [709, 2.88],
  [710, 2.5],
  [711, 5.17],
  [712, 2.15],
  [713, 3.29],
  [714, 3.58],
  [715, 1.92],
  [716, 3.35],
  [717, 14.86],
  [719, 2.82],
  [720, 3.84],
  [721, 1.35],
  [722, 1.75],
  [723, 1.5],
  [724, 1.7],
  [725, 1.48],
  [726, 1.97],
  [727, 7.81],
  [728, 6.88],
  [729, 6.23],
  [730, 6.88],
  [731, 0.83],
  [732, 5.25],
  [733, 2.09],
  [734, 1.47],
  [735, 1.91],
  [736, 2.28],
  [737, 1.65],
  [738, 1.62],
  [739, 1.96],
  [740, 1.47],
  [741, 1.6],
  [742, 1.55],
  [743, 2.13],
  [744, 2.82],
  [745, 2.11],
  [746, 2.05],
  [747, 1.8],
  [748, 1.91],
  [749, 2.52],
  [750, 1.81],
  [751, 2.05],
  [752, 1.94],
  [753, 2.28],
  [754, 2.75],
  [755, 2.56],
  [756, 2.05],
  [757, 2.41],
  [758, 1.82],
  [759, 2.78],
  [760, 1.75],
  [761, 1.5],
  [762, 2.57],
  [763, 1.9],
  [764, 3.63],
  [765, 1.24],
  [766, 1.47],
  [767, 2.26],
  [768, 2.34],
  [769, 1.91],
  [770, 1.94],
  [771, 2.04],
  [772, 1.47],
  [773, 2.47],
  [774, 1.19],
  [775, 2.18],
  [776, 1.28],
  [777, 1.96],
  [778, 1.05],
  [779, 1.62],
  [780, 2.75],
  [781, 2.02],
  [782, 1.67],
  [783, 2.92],
  [784, 2.9],
  [785, 1.98],
  [786, 2.94],
  [787, 2.84],
  [788, 1.01],
  [789, 1.89],
  [790, 2.15],
  [791, 1.04],
  [792, 2.26],
  [793, 3.01],
  [794, 1.76],
  [795, 2],
  [796, 1.94],
  [797, 2.92],
  [798, 1.96],
  [799, 2.24],
  [800, 2.5],
  [801, 3.15],
  [802, 1.71],
  [803, 0.81],
  [804, 0.9],
  [805, 3.56],
  [806, 0.98],
  [807, 2.2],
  [808, 2.01],
  [809, 2.62],
  [810, 1.37],
  [811, 0.79],
  [812, 5.72],
  [813, 1.03],
  [814, 0.9],
  [815, 2.28],
  [816, 1.77],
  [817, 1.22],
]);

/**
 * Get the length of a non-modded sound effect in seconds, to 2 decimal places. If a sound effect
 * enum has multiple sounds attached to it, will return the length of the first one.
 */
export function getSoundEffectLength(
  soundEffect: SoundEffect,
  pitch = 1,
): number | undefined {
  const length = SOUND_LENGTHS_MAP.get(soundEffect as number);
  if (length === undefined) {
    error(`Sound effect ${soundEffect} length not found`);
  }
  return length / pitch;
}
